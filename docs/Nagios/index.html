<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Nagios · Zenduty - General Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;Nagios is a free and open source computer-software application that monitors systems, networks and infrastructure. Nagios offers monitoring and alerting services for servers, switches, applications and services. To integrate Nagios with Zenduty, complete the following steps:&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Nagios · Zenduty - General Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="http://docs.zenduty.com/index.html"/><meta property="og:description" content="&lt;p&gt;Nagios is a free and open source computer-software application that monitors systems, networks and infrastructure. Nagios offers monitoring and alerting services for servers, switches, applications and services. To integrate Nagios with Zenduty, complete the following steps:&lt;/p&gt;
"/><meta property="og:image" content="http://docs.zenduty.com/img/zenduty.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="http://docs.zenduty.com/img/zenduty.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-135991214-1"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-135991214-1');
            </script><script type="text/javascript" src="https://wchat.freshchat.com/js/widget.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/zenduty.svg" alt="Zenduty - General Documentation"/><h2 class="headerTitleWithLogo">Zenduty - General Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/Introduction" target="_self"></a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Integrations</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/Introduction">Introduction to Zenduty</a></li><li class="navListItem"><a class="navItem" href="/docs/Teams">Zenduty Teams</a></li><li class="navListItem"><a class="navItem" href="/docs/Users">Team Members</a></li><li class="navListItem"><a class="navItem" href="/docs/ContactNotification">Contact Methods and Notification Policies</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Escalation and Schedules</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/EscalationPolicies">Escalation Policies</a></li><li class="navListItem"><a class="navItem" href="/docs/Schedules">Schedules Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/SchedulesEx">Schedules Examples</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Services and Integrations</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/Services">Services</a></li><li class="navListItem"><a class="navItem" href="/docs/Integrations">Integrations</a></li><li class="navListItem"><a class="navItem" href="/docs/Context">Context Integrations</a></li><li class="navListItem"><a class="navItem" href="/docs/AlertRules">Alert Rules</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Incidents</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/Incidents">Incidents</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Analytics</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/Analytics">Analytics</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Integrations</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/Email">Email</a></li><li class="navListItem"><a class="navItem" href="/docs/AppBeat">AppBeat</a></li><li class="navListItem"><a class="navItem" href="/docs/AppOptics">AppOptics</a></li><li class="navListItem"><a class="navItem" href="/docs/Atatus">Atatus</a></li><li class="navListItem"><a class="navItem" href="/docs/Cloudwatch">AWS Cloudwatch</a></li><li class="navListItem"><a class="navItem" href="/docs/Bitbucket">Bitbucket</a></li><li class="navListItem"><a class="navItem" href="/docs/Bugsnag">Bugsnag</a></li><li class="navListItem"><a class="navItem" href="/docs/Checkly">Checkly</a></li><li class="navListItem"><a class="navItem" href="/docs/Fabric">Crashlytics Fabric</a></li><li class="navListItem"><a class="navItem" href="/docs/Datadog">Datadog</a></li><li class="navListItem"><a class="navItem" href="/docs/Dynatrace">Dynatrace</a></li><li class="navListItem"><a class="navItem" href="/docs/FirebaseCrashlytics">Firebase Crashlytics</a></li><li class="navListItem"><a class="navItem" href="/docs/Freshdesk">Freshdesk</a></li><li class="navListItem"><a class="navItem" href="/docs/Github">Github</a></li><li class="navListItem"><a class="navItem" href="/docs/Grafana">Grafana</a></li><li class="navListItem"><a class="navItem" href="/docs/Graylog">Graylog</a></li><li class="navListItem"><a class="navItem" href="/docs/Healthchecks">Healthchecks.io</a></li><li class="navListItem"><a class="navItem" href="/docs/Honeybadger">Honeybadger</a></li><li class="navListItem"><a class="navItem" href="/docs/HostedGraphite">Hosted Graphite</a></li><li class="navListItem"><a class="navItem" href="/docs/Humio">Humio</a></li><li class="navListItem"><a class="navItem" href="/docs/Idera">IDERA (Copperegg)</a></li><li class="navListItem"><a class="navItem" href="/docs/Jenkins">Jenkins</a></li><li class="navListItem"><a class="navItem" href="/docs/Kayako">Kayako</a></li><li class="navListItem"><a class="navItem" href="/docs/Librato">Librato</a></li><li class="navListItem"><a class="navItem" href="/docs/Lightstep">Lightstep</a></li><li class="navListItem"><a class="navItem" href="/docs/LogDNA">LogDNA</a></li><li class="navListItem"><a class="navItem" href="/docs/Logenteries">Logentries</a></li><li class="navListItem"><a class="navItem" href="/docs/Loggly">Loggly</a></li><li class="navListItem"><a class="navItem" href="/docs/Logzio">Logzio</a></li><li class="navListItem"><a class="navItem" href="/docs/Monitis">Monitis</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/Nagios">Nagios</a></li><li class="navListItem"><a class="navItem" href="/docs/NewRelic">New Relic</a></li><li class="navListItem"><a class="navItem" href="/docs/NodePing">NodePing</a></li><li class="navListItem"><a class="navItem" href="/docs/OpsDash">OpsDash</a></li><li class="navListItem"><a class="navItem" href="/docs/Panopta">Panopta</a></li><li class="navListItem"><a class="navItem" href="/docs/Papertrail">Papertrail</a></li><li class="navListItem"><a class="navItem" href="/docs/Pingdom">Pingdom</a></li><li class="navListItem"><a class="navItem" href="/docs/Pingometer">Pingometer</a></li><li class="navListItem"><a class="navItem" href="/docs/Prometheus">Prometheus</a></li><li class="navListItem"><a class="navItem" href="/docs/Raygun">Raygun</a></li><li class="navListItem"><a class="navItem" href="/docs/Rollbar">Rollbar</a></li><li class="navListItem"><a class="navItem" href="/docs/Runscope">Runscope</a></li><li class="navListItem"><a class="navItem" href="/docs/Scout">Scout</a></li><li class="navListItem"><a class="navItem" href="/docs/Sentry">Sentry</a></li><li class="navListItem"><a class="navItem" href="/docs/SignalFX">SignalFX</a></li><li class="navListItem"><a class="navItem" href="/docs/Site24x7">Site24x7</a></li><li class="navListItem"><a class="navItem" href="/docs/Splunk">Splunk</a></li><li class="navListItem"><a class="navItem" href="/docs/SplunkLegacy">Splunk Legacy</a></li><li class="navListItem"><a class="navItem" href="/docs/StatHat">StatHat</a></li><li class="navListItem"><a class="navItem" href="/docs/StatusCake">StatusCake</a></li><li class="navListItem"><a class="navItem" href="/docs/StatusPage">StatusPage</a></li><li class="navListItem"><a class="navItem" href="/docs/Sumologic">Sumo Logic</a></li><li class="navListItem"><a class="navItem" href="/docs/Sysdig">Sysdig</a></li><li class="navListItem"><a class="navItem" href="/docs/ThousandEyes">ThousandEyes</a></li><li class="navListItem"><a class="navItem" href="/docs/Uptime">Uptime</a></li><li class="navListItem"><a class="navItem" href="/docs/UptimeRobot">UptimeRobot</a></li><li class="navListItem"><a class="navItem" href="/docs/Uptrends">Uptrends</a></li><li class="navListItem"><a class="navItem" href="/docs/WaveFront">WaveFront</a></li><li class="navListItem"><a class="navItem" href="/docs/Wormly">Wormly</a></li><li class="navListItem"><a class="navItem" href="/docs/Zabbix">Zabbix</a></li><li class="navListItem"><a class="navItem" href="/docs/Zendesk">Zendesk</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Nagios</h1></header><article><div><span><p>Nagios is a free and open source computer-software application that monitors systems, networks and infrastructure. Nagios offers monitoring and alerting services for servers, switches, applications and services. To integrate Nagios with Zenduty, complete the following steps:</p>
<h2><a class="anchor" aria-hidden="true" id="on-the-zenduty-dashboard"></a><a href="#on-the-zenduty-dashboard" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>On the Zenduty Dashboard:</h2>
<ol>
<li><p>To add a new Nagios integration, go to &quot;Teams&quot; on Zenduty and click on the &quot;Manage&quot; button corresponding to the team you want to add the integration to.</p></li>
<li><p>Next, go to &quot;Services&quot; and click on the &quot;Manage&quot; button correspoding to the relevant Service.</p></li>
<li><p>Go to &quot;Integrations&quot; and then &quot;Add New Integration&quot;. Give it a name and select the application &quot;Nagios&quot; from the dropdown menu.</p></li>
<li><p>Go to &quot;Configure&quot; under your integrations and copy the webhooks URL generated.</p></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="in-nagios"></a><a href="#in-nagios" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>In Nagios:</h2>
<h3><a class="anchor" aria-hidden="true" id="on-the-remote-host"></a><a href="#on-the-remote-host" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ON THE REMOTE HOST:</h3>
<p><strong>1. Installing the Nagios plugins:</strong>
Move into the directory for downloads. If not make one.</p>
<pre><code class="hljs">$ mkdir ~<span class="hljs-string">/Downloads</span>
$ <span class="hljs-keyword">cd</span> ~<span class="hljs-string">/Downloads</span>
</code></pre>
<p>Download the source code tarball of the Nagios plugins (visit <a href="http://www.nagios.org/downloads/">http://www.nagios.org/downloads/</a> for links to the latest versions). At the time of writing, the latest stable version of the Nagios plugins was 2.1.1.</p>
<pre><code class="hljs">$ wget http:<span class="hljs-regexp">//</span>nagios-plugins.org<span class="hljs-regexp">/download/</span>nagios-plugins-<span class="hljs-number">2.2</span>.<span class="hljs-number">1</span>.tar.gz
</code></pre>
<p>Extract the Nagios plugins from the folder.</p>
<pre><code class="hljs">$ tar xzf nagios-plugins<span class="hljs-number">-2.2</span><span class="hljs-number">.1</span>.tar.gz
$ cd nagios-plugins<span class="hljs-number">-2.2</span><span class="hljs-number">.1</span>
</code></pre>
<p>Compile and install the plugin.</p>
<pre><code class="hljs"><span class="hljs-variable">$ </span>./configure
<span class="hljs-variable">$ </span>make
<span class="hljs-variable">$ </span>make install
</code></pre>
<p>Depending on the version of the plugins, the permissions on the plugin directory and the plugins may need to be fixed at this point. If so run the following commands:</p>
<pre><code class="hljs"><span class="hljs-meta">$</span><span class="bash"> useradd nagios</span>
<span class="hljs-meta">$</span><span class="bash"> groupadd nagios</span>
<span class="hljs-meta">$</span><span class="bash"> usermod -a -G nagios nagios</span>
<span class="hljs-meta">$</span><span class="bash"> chown nagios.nagios /usr/<span class="hljs-built_in">local</span>/nagios</span>
<span class="hljs-meta">$</span><span class="bash"> chown -R nagios.nagios /usr/<span class="hljs-built_in">local</span>/nagios/</span>
</code></pre>
<p><strong>2. Installing xinetd:</strong></p>
<p>We will install xinetd using the following command. This may vary based on the OS.</p>
<pre><code class="hljs">$ apt-<span class="hljs-builtin-name">get</span> install xinetd
</code></pre>
<p><strong>3. Installing the NRPE daemon:</strong></p>
<p>Download the source code tarball of the NRPE addon. Make sure you have downloaded the latest version.</p>
<pre><code class="hljs">$ cd <span class="hljs-regexp">~/Downloads$ wget https:/</span><span class="hljs-regexp">/github.com/</span>NagiosEnterprises<span class="hljs-regexp">/nrpe/</span>releases<span class="hljs-regexp">/download/</span>nrpe-   <span class="hljs-number">3.2</span><span class="hljs-number">.1</span>/nrpe<span class="hljs-number">-3.2</span><span class="hljs-number">.1</span>.tar.gz
</code></pre>
<p>Extract the tarball:</p>
<pre><code class="hljs">$ tar xzf nrpe<span class="hljs-number">-3.2</span><span class="hljs-number">.1</span>.tar.gz
$ cd nrpe-nrpe<span class="hljs-number">-3.2</span><span class="hljs-number">.1</span> 
</code></pre>
<p>Compile the NRPE addon:</p>
<pre><code class="hljs"><span class="hljs-symbol">$</span> ./configure<span class="hljs-symbol">$</span> make <span class="hljs-keyword">all</span>
</code></pre>
<p>Install the NRPE plugin (for testing), daemon, and sample daemon configuration file.</p>
<pre><code class="hljs">$ make <span class="hljs-keyword">install</span>
$ make <span class="hljs-keyword">install</span>-config
</code></pre>
<p>If you want NRPE to run per-connection under inetd, xinetd, launchd, systemd, smf, etc. run the following command:</p>
<pre><code class="hljs">$ make install-<span class="hljs-built_in">int</span>ed
</code></pre>
<p>Make sure nrpe 5666/tcp is in your /etc/services file, if applicable.
If you want to run NRPE all the time under init, launchd, systemd, smf, etc. run the following command:</p>
<pre><code class="hljs">$ make <span class="hljs-keyword">install</span>-init
</code></pre>
<p><strong>4. Testing the NRPE daemon locally:</strong></p>
<p>It is time to see if things are working properly. Make sure the nrpe daemon is running:</p>
<pre><code class="hljs">$ netstat -<span class="hljs-built_in">at</span> | <span class="hljs-type">egrep</span> <span class="hljs-string">"nrpe|5666"</span>
</code></pre>
<p>If the two lines below show up, then it means everything going good so far.</p>
<pre><code class="hljs">tcp    <span class="hljs-number">0</span>  <span class="hljs-number">0</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:nrpe        <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:*           LISTEN
tcp6   <span class="hljs-number">0</span>  <span class="hljs-number">0</span> [::]:nrpe           [::]:*               LISTEN
</code></pre>
<p>Else, make sure that:</p>
<ul>
<li>You added the nrpe entry to your /etc/services file</li>
<li>The only_from directive in the /etc/xinetd.d/nrpe file contains an entry for &quot;127.0.0.1&quot;</li>
<li>xinetd is installed and started</li>
<li>The appropriate line in /etc/inetd.conf has been uncommented</li>
<li>Check the system log files for references about xinetd or nrpe and fix any problems that are reported.</li>
</ul>
<p>Next, check to make sure the NRPE daemon is functioning properly. To do this, run the check_nrpe plugin that was installed for testing purposes.</p>
<pre><code class="hljs">$ <span class="hljs-meta-keyword">/usr/</span>local<span class="hljs-meta-keyword">/nagios/</span>libexec/check_nrpe -H localhost
</code></pre>
<p>You should see the line below:</p>
<pre><code class="hljs">NRPE v3<span class="hljs-number">.2</span><span class="hljs-number">.1</span>
</code></pre>
<p><strong>5. Open firewall rules:</strong></p>
<p>If the server has a firewall running, you need to allow access to the NRPE port (5666) from the Nagios server. In Ubuntu, you would use the following commands:</p>
<pre><code class="hljs">$ iptables -I INPUT -p tcp -m tcp --dport 5666 -j ACCEPT
$<span class="hljs-built_in"> service </span>iptables save
</code></pre>
<p>On other systems and other firewalls, check the documentation or have an administrator open the port.At this point, you are done installing and configuring NRPE on the remote host. Now it is time to install a component and make some configuration entries on your monitoring server.</p>
<h3><a class="anchor" aria-hidden="true" id="on-the-monitoring-host"></a><a href="#on-the-monitoring-host" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ON THE MONITORING HOST:</h3>
<p>On the monitoring host (the machine that runs Nagios), you'll need to do just a few things:</p>
<ul>
<li>Install the check_nrpe plugin</li>
<li>Create a Nagios command definition for using the check_nrpe plugin</li>
<li>Create Nagios host and service definitions for monitoring the remote host</li>
</ul>
<p>These instructions assume that you have already installed Nagios on this machine according to the quickstart installation guide. The configuration examples that are given reference templates that are defined in the sample localhost.cfg and commands.cfg filesthat get installed if you follow the quickstart.</p>
<p><strong>1. Installing the check_nrpe plugin:</strong></p>
<p>Download the source code tarball of the NRPE addon (visit <a href="https://www.nagios.org/downloads/nagios-core-addons/">https://www.nagios.org/downloads/nagios-core-addons/</a> for links to the latest versions). At the time of writing, the latest version of NRPE was 3.2.1.$</p>
<pre><code class="hljs">S<span class="hljs-keyword">cd</span> ~<span class="hljs-string">/Downloads</span>
$ wget https:<span class="hljs-string">//github.com/NagiosEnterprises/nrpe/releases/download/nrpe-</span>   3.2.1/nrpe-3.2.1.tar.gz
</code></pre>
<p>Extract the source tarball.</p>
<pre><code class="hljs">$ tar xzf nrpe<span class="hljs-number">-3.2</span><span class="hljs-number">.1</span>.tar.gz

$ cd nrpe-nrpe<span class="hljs-number">-3.2</span><span class="hljs-number">.1</span>
</code></pre>
<p>Compile the NRPE addon:</p>
<pre><code class="hljs"><span class="hljs-variable">$ </span>./configure<span class="hljs-variable">$ </span>make check_nrpe
</code></pre>
<p>Install the NRPE plugin</p>
<pre><code class="hljs">$ make <span class="hljs-keyword">install</span>-<span class="hljs-keyword">plugin</span>
</code></pre>
<p><strong>2. Test communication with the NRPE daemon:</strong></p>
<p>Make sure the check_nrpe plugin can talk to the NRPE daemon on the remote host. Replace &quot;192.168.0.1&quot; in the command below with the IP address of the remote host that has NRPE installed.</p>
<pre><code class="hljs">$ /usr/local/nagios/libexec/check_nrpe -H <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>
</code></pre>
<p>Expected response:</p>
<pre><code class="hljs">NRPE v3<span class="hljs-number">.2</span><span class="hljs-number">.1</span>
</code></pre>
<p>If the plugin returns a timeout error, check the following:</p>
<ul>
<li>Make sure there isn't a firewall between the remote host and the monitoring server that is blocking communication</li>
<li>Make sure that the NRPE daemon is installed properly and running on the remote host</li>
<li>Make sure the remote host doesn't have local firewall rules that prevent the monitoring server from talking to the NRPE daemon</li>
</ul>
<p><strong>3. Creating a command definition:</strong></p>
<p>You'll need to create a command definition in one of your Nagios object configuration files in order to use the check_nrpe plugin. Open the sample commands.cfg file for editing.</p>
<pre><code class="hljs">$ vim <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/nagios/</span>etc<span class="hljs-regexp">/objects/</span>commands.cfg
</code></pre>
<p>and add the following definition to the file:</p>
<pre><code class="hljs">define command{
    command_name check_nrpe
    command_line <span class="hljs-variable">$USER1</span><span class="hljs-variable">$/</span>check_nrpe -H <span class="hljs-variable">$HOSTADDRESS</span><span class="hljs-variable">$ </span>-c <span class="hljs-variable">$ARG1</span><span class="hljs-variable">$
</span>}
</code></pre>
<p>You are now ready to start adding services that should be monitored on the remote machine to the Nagios configuration.</p>
<p><strong>4. Creating host and service definitions:</strong></p>
<p>You'll need to create some object definitions in order to monitor the remote Linux/Unix machine. These definitions can be placed in their own file or added to an already existing object configuration file.</p>
<p>First, its best practice to create a new template for each different type of host you'll be monitoring. Let's create a new template for linux boxes.</p>
<pre><code class="hljs"><span class="hljs-attr">define</span> <span class="hljs-string">host{    </span>
    <span class="hljs-attr">name</span>                     <span class="hljs-string">linux-box                 ;Name of this template    </span>
    <span class="hljs-attr">use</span>                      <span class="hljs-string">generic-host              ;Inherit default values    </span>
    <span class="hljs-attr">check_period</span>             <span class="hljs-string">24x7    </span>
    <span class="hljs-attr">check_interval</span>           <span class="hljs-string">5    </span>
    <span class="hljs-attr">retry_interval</span>           <span class="hljs-string">1    </span>
    <span class="hljs-attr">max_check_attempts</span>       <span class="hljs-string">10    </span>
    <span class="hljs-attr">check_command</span>            <span class="hljs-string">check-host-alive    </span>
    <span class="hljs-attr">notification_period</span>      <span class="hljs-string">24x7   </span>
    <span class="hljs-attr">notification_interval</span>    <span class="hljs-string">30    </span>
    <span class="hljs-attr">notification_options</span>     <span class="hljs-string">d,r    </span>
    <span class="hljs-attr">contact_groups</span>           <span class="hljs-string">admins    </span>
    <span class="hljs-attr">register</span>                 <span class="hljs-string">0                          ; DON’T REGISTER THIS - ITS A TEMPLATE</span>
    <span class="hljs-attr">}</span>
</code></pre>
<p>Next, define a new host for the remote Linux/Unix box that references the newly created linux-box host template.</p>
<pre><code class="hljs">define host{
    use                 linux-box
    host_name           remotehost    
    alias               Fedora Core 6    
   <span class="hljs-built_in"> address </span>            192.168.0.1
    }
</code></pre>
<p><strong>5. Restarting Nagios:</strong> Restart Nagios using one of the commands below, or whatever is appropriate on your server.</p>
<pre><code class="hljs">$<span class="hljs-built_in"> service </span>nagios restart
$ systemctl restart nagios
$ svcadm <span class="hljs-builtin-name">disable</span> nrpe &amp;&amp; svcadm <span class="hljs-builtin-name">enable</span> nrpe
$ /etc/rc.d/nrpe restart
</code></pre>
<p>###RUNNING THE ZENDUTY - NAGIO INTEGRATION SOFTWARE</p>
<p><strong>1. Downloading the software:</strong></p>
<p>Download the software from <a href="https://github.com/Zenduty/zd-nagios.git">https://github.com/Zenduty/zd-nagios.git</a></p>
<p><strong>2. Installing the software:</strong></p>
<p>Extract the source code.</p>
<pre><code class="hljs">$ tar xvf NagiosZendutyIntegration<span class="hljs-selector-class">.tar</span><span class="hljs-selector-class">.gz</span>
$ cd NagiosZendutyIntegration<span class="hljs-selector-class">.tar</span><span class="hljs-selector-class">.gz</span>
</code></pre>
<p><strong>3. Start Nagios Core:</strong></p>
<p>Start Nagios core using the same command used to restart it in the previous sections, replacing “restart” with “start”.</p>
<p><strong>4. Start the Zenduty Integration Software:</strong></p>
<p>Run the executable file to begin monitoring it. The webhook URL with your integration key must be passed as a parameter, as shown below. Replace the URL below with your own.</p>
<pre><code class="hljs">$ ./zenduty https://www.zenduty.com/api/integration/nagios/<span class="hljs-number">49152724</span>-ec1a-475c-<span class="hljs-number">91b5</span>-18bf8e390d93/

</code></pre>
<p>And that’s it! You’re system is now being monitored by Nagios and any alerts will be communicated to your zenduty account.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/Monitis"><span class="arrow-prev">← </span><span>Monitis</span></a><a class="docs-next button" href="/docs/NewRelic"><span>New Relic</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#on-the-zenduty-dashboard">On the Zenduty Dashboard:</a></li><li><a href="#in-nagios">In Nagios:</a><ul class="toc-headings"><li><a href="#on-the-remote-host">ON THE REMOTE HOST:</a></li><li><a href="#on-the-monitoring-host">ON THE MONITORING HOST:</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2019 Zenduty Created by YellowAnt</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '00808d264b6611cda3ba4754f7005d69',
                indexName: 'zenduty',
                inputSelector: '#search_input_react'
              });
            </script></body></html>